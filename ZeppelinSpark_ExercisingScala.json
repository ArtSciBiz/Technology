{"paragraphs":[{"title":"Exercising Apache Spark with Scala","text":"%md\nIn this exercise, we'll \n\n1. import a data file (utilizing the scala libraries) from a network location (web service) & load it into what's called a Spark RESILIENT DISTRIBUTED DATASET (RDD), much like a Kafka Topic, a partitioned, immutable dataset, one that can be read in parallel. \nUtilizing RDDs one can MAP, FILTER, GROUP, JOIN, & PERSIST DATA. Let's import a comma separated file from Amazon S3 bucket that's publicly available courtesy Zeppelin project. The dataset is available at https://s3.amazonaws.com/apache-zeppelin/tutorial/bank/bank.csv. \n2. clean the data utilizing MAP & FILTER functions of RDD\n3. create a DATA FRAME(DF) from the RDD\n4. register the DF as a temporary table\n5. execute sql operations against the table (at this point it is reasonable to wonder what's the point. see the 6th step)\n6. but zeppelin allows us to utilize visualizations which makes this step probably the most important \n\nPS. utilize tab for autocomplete or intellisense. \n","user":"anonymous","dateUpdated":"2019-12-03T05:52:12+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>In this exercise, we&rsquo;ll </p>\n<ol>\n  <li>import a data file (utilizing the scala libraries) from a network location (web service) &amp; load it into what&rsquo;s called a Spark RESILIENT DISTRIBUTED DATASET (RDD), much like a Kafka Topic, a partitioned, immutable dataset, one that can be read in parallel.<br/>Utilizing RDDs one can MAP, FILTER, GROUP, JOIN, &amp; PERSIST DATA. Let&rsquo;s import a comma separated file from Amazon S3 bucket that&rsquo;s publicly available courtesy Zeppelin project. The dataset is available at <a href=\"https://s3.amazonaws.com/apache-zeppelin/tutorial/bank/bank.csv\">https://s3.amazonaws.com/apache-zeppelin/tutorial/bank/bank.csv</a>.</li>\n  <li>clean the data utilizing MAP &amp; FILTER functions of RDD</li>\n  <li>create a DATA FRAME(DF) from the RDD</li>\n  <li>register the DF as a temporary table</li>\n  <li>execute sql operations against the table (at this point it is reasonable to wonder what&rsquo;s the point. see the 6th step)</li>\n  <li>but zeppelin allows us to utilize visualizations which makes this step probably the most important</li>\n</ol>\n<p>PS. utilize tab for autocomplete or intellisense.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1575347844752_314495799","id":"20191203-043724_243533464","dateCreated":"2019-12-03T04:37:24+0000","dateStarted":"2019-12-03T05:52:12+0000","dateFinished":"2019-12-03T05:52:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:13877"},{"text":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\n","user":"anonymous","dateUpdated":"2019-12-03T05:53:25+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\n"}]},"apps":[],"jobName":"paragraph_1575350741434_1735841824","id":"20191203-052541_621426062","dateCreated":"2019-12-03T05:25:41+0000","dateStarted":"2019-12-03T05:53:25+0000","dateFinished":"2019-12-03T05:53:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13878"},{"text":"val bankText = sc.parallelize(\n    IOUtils.toString(\n        new URL(\"https://s3.amazonaws.com/apache-zeppelin/tutorial/bank/bank.csv\"),\n        Charset.forName(\"utf8\")).split(\"\\n\"))\nbankText.take(5)","user":"anonymous","dateUpdated":"2019-12-03T05:54:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"bankText: org.apache.spark.rdd.RDD[String] = ParallelCollectionRDD[0] at parallelize at <console>:28\nres3: Array[String] = Array(\"age\";\"job\";\"marital\";\"education\";\"default\";\"balance\";\"housing\";\"loan\";\"contact\";\"day\";\"month\";\"duration\";\"campaign\";\"pdays\";\"previous\";\"poutcome\";\"y\", 30;\"unemployed\";\"married\";\"primary\";\"no\";1787;\"no\";\"no\";\"cellular\";19;\"oct\";79;1;-1;0;\"unknown\";\"no\", 33;\"services\";\"married\";\"secondary\";\"no\";4789;\"yes\";\"yes\";\"cellular\";11;\"may\";220;1;339;4;\"failure\";\"no\", 35;\"management\";\"single\";\"tertiary\";\"no\";1350;\"yes\";\"no\";\"cellular\";16;\"apr\";185;1;330;1;\"failure\";\"no\", 30;\"management\";\"married\";\"tertiary\";\"no\";1476;\"yes\";\"yes\";\"unknown\";3;\"jun\";199;4;-1;0;\"unknown\";\"no\")\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=0"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575350914923_1531898865","id":"20191203-052834_1801885217","dateCreated":"2019-12-03T05:28:34+0000","dateStarted":"2019-12-03T05:54:09+0000","dateFinished":"2019-12-03T05:54:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13879"},{"text":"case class Bank(age: Integer, job: String, marital: String, education: String, balance: Integer)\n\nval bankRDD = bankText.map(s => s.split(\";\")).filter(s => s(0) != \"\\\"age\\\"\").map(\n    s => Bank(s(0).toInt, \n            s(1).replaceAll(\"\\\"\", \"\"),\n            s(2).replaceAll(\"\\\"\", \"\"),\n            s(3).replaceAll(\"\\\"\", \"\"),\n            s(5).replaceAll(\"\\\"\", \"\").toInt\n        )\n)\n","user":"anonymous","dateUpdated":"2019-12-03T05:55:11+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"defined class Bank\nbankRDD: org.apache.spark.rdd.RDD[Bank] = MapPartitionsRDD[3] at map at <console>:17\n"}]},"apps":[],"jobName":"paragraph_1575352449282_-373146009","id":"20191203-055409_1006137791","dateCreated":"2019-12-03T05:54:09+0000","dateStarted":"2019-12-03T05:55:11+0000","dateFinished":"2019-12-03T05:55:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13880"},{"text":"val bank= bankRDD.toDF()\nbank.show(5)","user":"anonymous","dateUpdated":"2019-12-03T05:56:20+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+-----------+-------+---------+-------+\n|age|        job|marital|education|balance|\n+---+-----------+-------+---------+-------+\n| 30| unemployed|married|  primary|   1787|\n| 33|   services|married|secondary|   4789|\n| 35| management| single| tertiary|   1350|\n| 30| management|married| tertiary|   1476|\n| 59|blue-collar|married|secondary|      0|\n+---+-----------+-------+---------+-------+\nonly showing top 5 rows\n\nbank: org.apache.spark.sql.DataFrame = [age: int, job: string ... 3 more fields]\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=3"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575352511469_-2009443695","id":"20191203-055511_683858880","dateCreated":"2019-12-03T05:55:11+0000","dateStarted":"2019-12-03T05:56:20+0000","dateFinished":"2019-12-03T05:56:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13881"},{"text":"bank.registerTempTable(\"bank\")","user":"anonymous","dateUpdated":"2019-12-03T05:56:50+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"warning: there was one deprecation warning; re-run with -deprecation for details\n"}]},"apps":[],"jobName":"paragraph_1575352543650_-597078275","id":"20191203-055543_820844914","dateCreated":"2019-12-03T05:55:43+0000","dateStarted":"2019-12-03T05:56:51+0000","dateFinished":"2019-12-03T05:56:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13882"},{"text":"%sql\nselect * from bank LIMIT 5","user":"anonymous","dateUpdated":"2019-12-03T05:57:12+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"age":"string","job":"string","marital":"string","education":"string","balance":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"age\tjob\tmarital\teducation\tbalance\n30\tunemployed\tmarried\tprimary\t1787\n33\tservices\tmarried\tsecondary\t4789\n35\tmanagement\tsingle\ttertiary\t1350\n30\tmanagement\tmarried\ttertiary\t1476\n59\tblue-collar\tmarried\tsecondary\t0\n"},{"type":"TEXT","data":""}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=4"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575352610903_1798799151","id":"20191203-055650_287320371","dateCreated":"2019-12-03T05:56:50+0000","dateStarted":"2019-12-03T05:57:11+0000","dateFinished":"2019-12-03T05:57:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13883"},{"text":"%sql\nselect age, education, sum(balance) bal from bank\ngroup by age, education","user":"anonymous","dateUpdated":"2019-12-03T06:15:54+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"stackedAreaChart","height":300,"optionOpen":true,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"age":"string","education":"string","bal":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","style":"stack"}},"commonSetting":{},"keys":[{"name":"age","index":0,"aggr":"sum"}],"groups":[{"name":"education","index":1,"aggr":"sum"}],"values":[{"name":"bal","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"age\teducation\tbal\n29\tprimary\t1048\n22\tprimary\t3472\n69\ttertiary\t2617\n68\tsecondary\t23506\n29\tsecondary\t63447\n62\ttertiary\t1865\n69\tunknown\t426\n49\tsecondary\t101703\n55\ttertiary\t28689\n71\tsecondary\t2850\n32\tsecondary\t115051\n52\ttertiary\t18538\n67\tprimary\t2301\n65\tunknown\t5317\n43\tunknown\t11397\n33\tprimary\t24768\n57\tunknown\t6726\n71\ttertiary\t15217\n57\tprimary\t33000\n42\tsecondary\t83363\n54\tsecondary\t22068\n65\tprimary\t4512\n26\tprimary\t7726\n56\tunknown\t5632\n31\tunknown\t635\n43\tsecondary\t82498\n34\tsecondary\t112504\n55\tunknown\t4056\n47\tsecondary\t78778\n44\tunknown\t1174\n45\tprimary\t44588\n86\tsecondary\t1503\n31\tsecondary\t104499\n42\tprimary\t40882\n28\tprimary\t1961\n24\tunknown\t3729\n58\tprimary\t48625\n35\tprimary\t13227\n47\ttertiary\t49685\n50\tprimary\t42974\n73\tprimary\t2617\n40\tunknown\t9716\n42\ttertiary\t93304\n50\ttertiary\t43378\n21\tsecondary\t12283\n25\ttertiary\t27302\n64\tprimary\t811\n67\tsecondary\t16353\n23\tsecondary\t21128\n56\tprimary\t16366\n55\tprimary\t40416\n28\tsecondary\t64651\n52\tsecondary\t36593\n54\tprimary\t18305\n41\tsecondary\t91940\n40\tsecondary\t98662\n33\tunknown\t24316\n23\ttertiary\t1998\n60\tunknown\t15024\n77\tprimary\t1360\n59\tunknown\t8646\n53\tsecondary\t62148\n27\tsecondary\t48959\n38\tunknown\t3638\n22\tsecondary\t7178\n26\tsecondary\t34353\n60\tsecondary\t19437\n79\tprimary\t8985\n29\ttertiary\t54314\n51\ttertiary\t31479\n69\tprimary\t858\n53\ttertiary\t45412\n28\tunknown\t1390\n40\ttertiary\t75443\n32\ttertiary\t141981\n49\ttertiary\t27788\n32\tunknown\t21538\n53\tprimary\t37193\n19\tunknown\t1169\n44\ttertiary\t72648\n58\tsecondary\t45864\n53\tunknown\t4548\n38\tprimary\t17406\n27\ttertiary\t25774\n45\tunknown\t12395\n59\tsecondary\t46515\n48\ttertiary\t56018\n83\tsecondary\t0\n36\tsecondary\t86138\n64\ttertiary\t2415\n50\tunknown\t9220\n36\tunknown\t3541\n37\ttertiary\t84184\n46\tunknown\t9570\n33\ttertiary\t105706\n54\ttertiary\t63140\n40\tprimary\t14909\n66\ttertiary\t13910\n87\tprimary\t230\n50\tsecondary\t70579\n78\ttertiary\t226\n36\ttertiary\t130534\n66\tprimary\t953\n25\tsecondary\t17283\n70\tprimary\t8313\n44\tprimary\t17564\n47\tunknown\t7383\n71\tprimary\t4657\n73\tunknown\t519\n22\tunknown\t596\n77\tsecondary\t610\n57\tsecondary\t72359\n35\tsecondary\t103576\n27\tunknown\t3255\n84\tprimary\t639\n75\ttertiary\t3810\n72\tsecondary\t4130\n45\ttertiary\t27906\n73\tsecondary\t19\n60\tprimary\t90637\n19\tsecondary\t302\n49\tprimary\t45604\n72\tprimary\t5974\n30\ttertiary\t103494\n26\ttertiary\t18640\n24\tsecondary\t11219\n25\tunknown\t10788\n22\ttertiary\t1852\n44\tsecondary\t101452\n76\tprimary\t2676\n39\tprimary\t25197\n27\tprimary\t2079\n51\tunknown\t42195\n64\tunknown\t2923\n31\ttertiary\t119916\n34\ttertiary\t132905\n77\ttertiary\t12461\n63\tprimary\t9128\n79\tsecondary\t4738\n56\ttertiary\t66399\n48\tprimary\t38132\n35\ttertiary\t97035\n41\tunknown\t7318\n78\tsecondary\t499\n60\ttertiary\t14237\n69\tsecondary\t745\n58\ttertiary\t47836\n30\tsecondary\t57899\n52\tprimary\t7776\n75\tprimary\t852\n58\tunknown\t6857\n21\tunknown\t137\n33\tsecondary\t132657\n61\ttertiary\t13623\n55\tsecondary\t38884\n70\ttertiary\t15834\n31\tprimary\t31358\n34\tprimary\t6941\n24\ttertiary\t172\n29\tunknown\t3593\n37\tsecondary\t99404\n28\ttertiary\t37583\n43\ttertiary\t80147\n38\tsecondary\t95157\n46\ttertiary\t28075\n32\tprimary\t2897\n80\tprimary\t8031\n67\tunknown\t1392\n48\tsecondary\t60707\n75\tsecondary\t37617\n51\tsecondary\t36140\n78\tprimary\t229\n42\tunknown\t9794\n81\tsecondary\t1\n38\ttertiary\t157119\n39\tunknown\t1169\n66\tsecondary\t14962\n61\tunknown\t4629\n83\tprimary\t1522\n41\ttertiary\t81432\n67\ttertiary\t701\n49\tunknown\t3109\n54\tunknown\t14110\n25\tprimary\t-810\n37\tprimary\t42493\n64\tsecondary\t1574\n30\tprimary\t5562\n48\tunknown\t11852\n63\ttertiary\t133\n41\tprimary\t22592\n37\tunknown\t9610\n47\tprimary\t11363\n39\tsecondary\t66947\n34\tunknown\t4415\n23\tunknown\t817\n20\tsecondary\t1984\n59\tprimary\t25054\n56\tsecondary\t68493\n74\tsecondary\t5935\n59\ttertiary\t32141\n46\tsecondary\t64886\n23\tprimary\t18416\n70\tsecondary\t11445\n43\tprimary\t33859\n57\ttertiary\t39487\n51\tprimary\t29286\n80\tsecondary\t17070\n36\tprimary\t10443\n61\tsecondary\t17735\n19\tprimary\t103\n52\tunknown\t4370\n61\tprimary\t2533\n46\tprimary\t16323\n24\tprimary\t111\n39\ttertiary\t50319\n79\tunknown\t2628\n63\tsecondary\t9030\n45\tsecondary\t48096\n62\tsecondary\t1748\n35\tunknown\t871\n"},{"type":"TEXT","data":""}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=25","http://10.42.188.214:4040/jobs/job?id=26","http://10.42.188.214:4040/jobs/job?id=27","http://10.42.188.214:4040/jobs/job?id=28","http://10.42.188.214:4040/jobs/job?id=29"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575352631325_1611310227","id":"20191203-055711_1159043312","dateCreated":"2019-12-03T05:57:11+0000","dateStarted":"2019-12-03T06:03:58+0000","dateFinished":"2019-12-03T06:03:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13884"},{"text":"%sql\nselect age, count(1) value\nfrom bank \nwhere age < 30 \ngroup by age \norder by age","user":"anonymous","dateUpdated":"2019-12-03T06:15:54+0000","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"age":"string","value":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"age","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"value","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"age\tvalue\n19\t4\n20\t3\n21\t7\n22\t9\n23\t20\n24\t24\n25\t44\n26\t77\n27\t94\n28\t103\n29\t97\n"},{"type":"TEXT","data":""}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=30"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575352661326_1164445572","id":"20191203-055741_837906129","dateCreated":"2019-12-03T05:57:41+0000","dateStarted":"2019-12-03T06:08:49+0000","dateFinished":"2019-12-03T06:08:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13885"},{"text":"%sql \nselect age, count(1) value \nfrom bank \nwhere age < ${maxAge=30} \ngroup by age \norder by age","user":"anonymous","dateUpdated":"2019-12-03T06:12:07+0000","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"pieChart","height":215.6,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"age":"string","value":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}},"helium":{}},"1":{"graph":{"mode":"table","height":87.2,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{"maxAge":"30"},"forms":{"maxAge":{"type":"TextBox","name":"maxAge","defaultValue":"30","hidden":false,"$$hashKey":"object:14132"}}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"age\tvalue\n19\t4\n20\t3\n21\t7\n22\t9\n23\t20\n24\t24\n25\t44\n26\t77\n27\t94\n28\t103\n29\t97\n"},{"type":"TEXT","data":""}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=31"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575353329029_1576339294","id":"20191203-060849_1852370189","dateCreated":"2019-12-03T06:08:49+0000","dateStarted":"2019-12-03T06:09:55+0000","dateFinished":"2019-12-03T06:09:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13886"},{"text":"%sql\nselect age, count(1) value \nfrom bank \nwhere marital=\"${marital=single,single|divorced|married}\" \ngroup by age \norder by age","user":"anonymous","dateUpdated":"2019-12-03T06:15:55+0000","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":220.4,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"age":"string","value":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"age","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"value","index":1,"aggr":"sum"}]},"helium":{}},"1":{"graph":{"mode":"table","height":87.2,"optionOpen":false}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","runOnSelectionChange":true},"settings":{"params":{"marital":"single"},"forms":{"marital":{"type":"Select","options":[{"value":"single","$$hashKey":"object:16115"},{"value":"divorced","$$hashKey":"object:16116"},{"value":"married","$$hashKey":"object:16117"}],"name":"marital","defaultValue":"single","hidden":false,"$$hashKey":"object:16106"}}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"age\tvalue\n19\t4\n20\t3\n21\t7\n22\t9\n23\t17\n24\t13\n25\t33\n26\t56\n27\t64\n28\t78\n29\t56\n30\t92\n31\t86\n32\t105\n33\t61\n34\t75\n35\t46\n36\t50\n37\t43\n38\t44\n39\t30\n40\t25\n41\t19\n42\t23\n43\t21\n44\t20\n45\t15\n46\t14\n47\t12\n48\t12\n49\t11\n50\t8\n51\t6\n52\t9\n53\t4\n55\t3\n56\t3\n57\t2\n58\t7\n59\t2\n60\t5\n66\t2\n69\t1\n"},{"type":"TEXT","data":""}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://10.42.188.214:4040/jobs/job?id=32"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1575353395185_-309632733","id":"20191203-060955_1444560680","dateCreated":"2019-12-03T06:09:55+0000","dateStarted":"2019-12-03T06:11:16+0000","dateFinished":"2019-12-03T06:11:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:13887"},{"text":"%sql\n","user":"anonymous","dateUpdated":"2019-12-03T06:11:16+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1575353476792_-994051687","id":"20191203-061116_75846323","dateCreated":"2019-12-03T06:11:16+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:13888"}],"name":"ZeppelinSpark_ExercisingScala","id":"2EV4Q4ZMQ","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}